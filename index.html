<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stock Sentiment Analysis with Graphs</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(to right, #f4f7f9, #eef2f3);
      color: #333;
    }

    header {
      background: #4CAF50;
      color: #fff;
      padding: 15px;
      text-align: center;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }

    main {
      padding: 20px;
      max-width: 900px;
      margin: auto;
      background: #fff;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      border-radius: 10px;
    }

    h1, h2, h3 {
      color: #4CAF50;
      margin-bottom: 10px;
    }

    .section {
      margin-bottom: 20px;
    }

    .tweets, .stock-data, .model-results, .graphs {
      border: 1px solid #ddd;
      padding: 15px;
      border-radius: 5px;
      background: #fdfdfd;
    }

    ul {
      list-style-type: none;
      padding: 0;
    }

    li {
      padding: 8px 10px;
      border-bottom: 1px solid #ddd;
    }

    li:last-child {
      border-bottom: none;
    }

    .button, button {
      display: inline-block;
      padding: 10px 20px;
      background: #4CAF50;
      color: #fff;
      text-decoration: none;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .button:hover, button:hover {
      background: #45a049;
    }

    form {
      margin-bottom: 20px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    input {
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      width: 100%;
    }

    footer {
      text-align: center;
      padding: 10px 0;
      margin-top: 20px;
      background: #4CAF50;
      color: #fff;
    }

    canvas {
      display: block;
      margin: 20px auto;
      max-width: 100%;
    }

    .graph-container {
      margin-bottom: 30px;
    }

    .best-model {
      color: #FF5733;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>
    <h1>Stock Sentiment Analysis with Graphs</h1>
  </header>
  <main>
    <!--User Input Form -- >
    <form id="user-input-form">
      <input type="text" id="stock-symbol" placeholder="Enter Stock Symbol (e.g., AAPL)" required>
      <input type="text" id="search-query" placeholder="Enter Search Query (e.g., Apple stock)" required>
      <button type="submit">Submit</button>
    </form>

     <!-- Tweets Section --> 
    <div class="section">
      <h2>Fetched Tweets</h2>
      <div class="tweets">
        <ul id="tweets-list">
          <!-- Tweets will be injected dynamically -->
        </ul>
      </div>
    </div>

    <!-- Sentiment Analysis -->
    <div class="section">
      <h2>Sentiment Score</h2>
      <p id="sentiment-score" style="font-size: 1.2em; color: #333;">N/A</p>
    </div>

    <!-- Stock Data -->
    <div class="section">
      <h2>Stock Price Data</h2>
      <div class="stock-data">
        <ul id="stock-data-list">
          <!-- Stock data will be injected dynamically -->
        </ul>
      </div>
    </div>

    <!-- Model Performance -->
    <div class="section">
      <h2>Model Performance</h2>
      <div class="model-results">
        <ul id="model-results-list">
          <!-- Model performance will be injected dynamically -->
        </ul>
      </div>
    </div>

    <!-- Graphs -->
    <div class="section">
      <h2>Graphs</h2>
      <div class="graphs">
        <div id="graph-container" class="graph-container">
        </div>
      </div>
      <p class="best-model">Best Algorithm: XGBoost</p>
    </div>
  </main>
  <footer>
    <p>&copy; 2024 Stock Sentiment Analysis</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    // Simulated data for demonstration purposes
    const simulatedTweets = [
      "Apple stock is looking great today!",
      "AAPL sees a positive trend this week.",
      "Apple's recent innovations are boosting investor confidence."
    ];
    const simulatedSentimentScore = 0.85;
    const simulatedStockData = [
      { date: "2024-12-01", open: 170.50, close: 173.80 },
      { date: "2024-12-02", open: 173.60, close: 175.30 },
      { date: "2024-12-03", open: 175.00, close: 176.90 }
    ];
    const simulatedModelResults = {
      "Linear Regression": { accuracy: 0.65, predictions: [0.1, 0.9, 1.0] },
      "KNN": { accuracy: 0.72, predictions: [0.2, 0.8, 0.9] },
      "Random Forest": { accuracy: 0.78, predictions: [0.3, 0.7, 0.8] },
      "XGBoost": { accuracy: 0.80, predictions: [0.4, 0.6, 0.7] },
      "Decision Tree": { accuracy: 0.75, predictions: [0.15, 0.85, 1.1] }
    };
    const bestModelPrediction = [0.15, 0.85, 1.1];

    document.getElementById("user-input-form").addEventListener("submit", (e) => {
      e.preventDefault();

      // Display data dynamically
      displayTweets(simulatedTweets);
      displaySentiment(simulatedSentimentScore);
      displayStockData(simulatedStockData);
      displayModelResults(simulatedModelResults);
      displayGraphs(simulatedModelResults, bestModelPrediction);
    });

    function displayTweets(tweets) {
      const tweetsList = document.getElementById("tweets-list");
      tweetsList.innerHTML = "";
      tweets.forEach(tweet => {
        const li = document.createElement("li");
        li.textContent = tweet;
        tweetsList.appendChild(li);
      });
    }

    function displaySentiment(sentimentScore) {
      document.getElementById("sentiment-score").textContent = `Sentiment Score: ${sentimentScore.toFixed(2)}`;
    }

    function displayStockData(stockData) {
      const stockDataList = document.getElementById("stock-data-list");
      stockDataList.innerHTML = "";
      stockData.forEach(data => {
        const li = document.createElement("li");
        li.textContent = `Date: ${data.date}, Open: $${data.open.toFixed(2)}, Close: $${data.close.toFixed(2)}`;
        stockDataList.appendChild(li);
      });
    }

    function displayModelResults(modelResults) {
      const modelResultsList = document.getElementById("model-results-list");
      modelResultsList.innerHTML = "";
      for (const [model, { accuracy, predictions }] of Object.entries(modelResults)) {
        const li = document.createElement("li");
        li.textContent = `${model}: Accuracy - ${accuracy.toFixed(2)}, Predictions - ${predictions.join(", ")}`;
        modelResultsList.appendChild(li);
      }
    }

    function displayGraphs(modelResults, bestModelPrediction) {
      const graphContainer = document.getElementById("graph-container");
      graphContainer.innerHTML = "";

      for (const [model, { predictions }] of Object.entries(modelResults)) {
        const canvas = document.createElement("canvas");
        canvas.id = `${model}-graph`;
        graphContainer.appendChild(canvas);

        new Chart(canvas, {
          type: "line",
          data: {
            labels: ["Day 1", "Day 2", "Day 3"],
            datasets: [
              {
                label: model,
                data: predictions,
                borderColor: "#4CAF50",
                fill: false,
              }
            ]
          },
          options: {
            responsive: true,
            plugins: {
              legend: {
                display: true,
                position: "top"
              }
            }
          }
        });
      }

      const bestCanvas = document.createElement("canvas");
      bestCanvas.id = "best-model-graph";
      graphContainer.appendChild(bestCanvas);

      new Chart(bestCanvas, {
        type: "line",
        data: {
          labels: ["Day 1", "Day 2", "Day 3"],
          datasets: [
            {
              label: "Best Model Prediction",
              data: bestModelPrediction,
              borderColor: "#FF5733",
              fill: false,
            }
          ]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              display: true,
              position: "top"
            }
          }
        }
      });
    }
  </script>
</body>
</html> 





<!-- --------------------------------------------------------------- -->

import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

data = pd.read_csv('A_Z Handwritten Data.csv').astype('float32')
data.head(10)

X = data.drop('0',axis = 1)
y = data['0']

from sklearn.model_selection import train_test_split
from sklearn.utils import shuffle

x_train, x_test, y_train, y_test = train_test_split(X, y, test_size = 0.2)

x_train = np.reshape(x_train.values, (x_train.shape[0], 28,28))
x_test = np.reshape(x_test.values, (x_test.shape[0], 28,28))

print("Shape of Training data: ", x_train.shape)
print("Shape of Testing data: ", x_test.shape)

import cv2
shuffle_data = shuffle(x_train)

fig, axes = plt.subplots(3,3, figsize = (10,10))
axes = axes.flatten()

for i in range(9):
    _, shu = cv2.threshold(shuffle_data[i], 30, 200, cv2.THRESH_BINARY)
    axes[i].imshow(np.reshape(shuffle_data[i], (28,28)), cmap="Greys")
plt.show()

x_train = x_train.reshape(x_train.shape[0],x_train.shape[1],x_train.shape[2],1)
x_test = x_test.reshape(x_test.shape[0], x_test.shape[1], x_test.shape[2],1)

print("New shape of training data: ", x_train.shape)
print("New shape of testing data: ", x_test.shape)

import tensorflow
from tensorflow.keras.utils import to_categorical

y_training = to_categorical(y_train, num_classes = 26, dtype='int')
y_testing = to_categorical(y_test, num_classes = 26, dtype='int')

print("New shape of training labels: ", y_training.shape)
print("New shape of testing labels: ", y_testing.shape)


from tensorflow.keras.models import Sequential
from tensorflow.keras.layers import Dense, Flatten, Conv2D, MaxPool2D, Dropout
from tensorflow.keras.optimizers import SGD, Adam
from tensorflow.keras.callbacks import ReduceLROnPlateau, EarlyStopping

model = Sequential()

model.add(Conv2D(64 , (3, 3), activation='relu', input_shape=(28,28,1)))
model.add(MaxPool2D(2, 2))

model.add(Conv2D(64, (3, 3), activation='relu'))
model.add(MaxPool2D(2, 2))

model.add(Conv2D(64, (3, 3), activation='relu'))
model.add(MaxPool2D(2,2))

model.add(Flatten())

model.add(Dense(128,activation ="relu"))
model.add(Dense(256,activation ="relu"))

model.add(Dense(26,activation ="softmax"))



model.compile(optimizer = Adam(learning_rate=0.001), loss='categorical_crossentropy', metrics=['accuracy'])

history = model.fit(x_train, y_training, epochs=5,  validation_data = (x_test,y_testing))

model.summary()

model.save(r'handwritten_character_recog_model.h5')

words = {0:'A',1:'B',2:'C',3:'D',4:'E',5:'F',6:'G',7:'H',8:'I',9:'J',10:'K',11:'L',12:'M',13:'N',14:'O',15:'P',16:'Q',17:'R',18:'S',19:'T',20:'U',21:'V',22:'W',23:'X', 24:'Y',25:'Z'}

fig, axes = plt.subplots(3,3, figsize=(8,9))
axes = axes.flatten()

for i,ax in enumerate(axes):
    image = np.reshape(x_test[i], (28,28))
    ax.imshow(image, cmap="Greys")
    
    pred = words[np.argmax(y_testing[i])]
    ax.set_title("Prediction: "+pred)
    ax.grid()